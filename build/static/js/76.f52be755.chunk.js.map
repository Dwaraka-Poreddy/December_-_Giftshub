{"version":3,"sources":["pages/auth/Register.js","components/nav/Header.js"],"names":["Register","history","useState","email","setEmail","user","useSelector","state","useEffect","token","push","handleSubmit","e","a","console","log","process","preventDefault","config","url","handleCodeInApp","auth","sendSignInLinkToEmail","toast","success","window","localStorage","setItem","style","background","height","className","onSubmit","type","value","onChange","target","placeholder","autoFocus","size","block","shape","onClick","Header","dispatch","useDispatch","useHistory","class","href","data-toggle","data-target","id","aria-haspopup","aria-expanded","split","profilepic","width","src","alt","aria-labelledby","firebase","signOut","payload"],"mappings":"qPAkFeA,UA5EE,EAAGC,cAAe,IAAD,EACNC,mBAAS,IADH,mBACzBC,EADyB,KAClBC,EADkB,KAGxBC,EAASC,YAAaC,GAAD,eAAiBA,IAAtCF,KAERG,oBAAU,KACJH,GAAQA,EAAKI,OACfR,EAAQS,KAAK,MAEd,CAACL,IAEJ,IAAMM,EAAY,uCAAG,WAAOC,GAAP,eAAAC,EAAA,6DACnBC,QAAQC,IAAIC,0CAA6C,iBACzDJ,EAAEK,iBACIC,EAAS,CACbC,IAAKH,0CACLI,iBAAiB,GALA,SAObC,IAAKC,sBAAsBnB,EAAOe,GAPrB,OAQnBK,IAAMC,QAAN,2BACsBrB,EADtB,mDAIAsB,OAAOC,aAAaC,QAAQ,uBAAwBxB,GACpDW,QAAQC,MAERX,EAAS,IAfU,2CAAH,sDA2ClB,OACE,yBACEwB,MAAO,CACLC,WACE,yGACFC,OAAQ,SAGT,IACD,kBAAC,IAAD,MACA,yBAAKC,UAAU,iBACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,wBACb,wCArCR,0BAAMC,SAAUrB,GACd,2BACEsB,KAAK,QACLF,UAAU,eACVG,MAAO/B,EACPgC,SAAWvB,GAAMR,EAASQ,EAAEwB,OAAOF,OACnCG,YAAY,aACZC,WAAS,IAEX,6BACA,kBAAC,IAAD,CACEC,KAAK,QACLR,UAAU,OACVS,OAAK,EACLC,MAAM,QACNR,KAAK,UACLS,QAAS/B,EACToB,UAAU,kBAPZ,mB,mGCoESY,IA5GA,KAAO,IAAD,EACWzC,mBAAS,QADpB,mBAEf0C,GAFe,UAEJC,eACX5C,EAAU6C,cAERzC,EAASC,YAAaC,GAAD,eAAiBA,IAAtCF,KACNS,QAAQC,IAAIV,EAAM,QAclB,OACE,yBAAK0C,MAAM,iDACT,yBAAKA,MAAM,aACT,uBAAGA,MAAM,6BAA6BC,KAAI,KAA1C,aAGA,4BACED,MAAM,iBACNd,KAAK,SACLgB,cAAY,WACZC,cAAY,sBAEZ,0BAAMH,MAAM,yBAEd,yBAAKA,MAAM,2BAA2BI,GAAG,qBACvC,wBAAIJ,MAAM,qCACN1C,EAWA,wBAAI0C,MAAM,4BACR,oCACE,uBACEA,MAAM,2BACNI,GAAG,2BACHF,cAAY,WACZG,gBAAc,OACdC,gBAAc,SAEbhD,EAAKF,MAAMmD,MAAM,KAAK,GACtBjD,EAAKkD,WACJ,yBACEC,MAAM,KACNC,IAAKpD,EAAKkD,WACVR,MAAM,gCACNW,IAAI,iBAGN,yBACEF,MAAM,KACNC,IAAI,yIACJV,MAAM,gCACNW,IAAI,iBAEL,MAIP,yBACEX,MAAM,uDACNY,kBAAgB,4BAEhB,wBAAIZ,MAAM,aACR,uBAAGA,MAAM,WAAWC,KAAK,IAAzB,iBAIF,wBAAID,MAAM,aACP1C,GACC,uBAAG0C,MAAM,WAAWC,KAAI,kBAAxB,aAKJ,wBAAID,MAAM,aACP1C,GACC,uBAAGqC,QAlFR,KACbkB,IAASvC,OAAOwC,UAChBjB,EAAS,CACPX,KAAM,SACN6B,QAAS,OAEX7D,EAAQS,KAAK,WA4EyBqC,MAAM,WAAWC,KAAI,UAAzC,aAxDR,oCACE,uBAAGD,MAAM,WAAWC,KAAI,UAAxB,SAIA,uBAAGD,MAAM,WAAWC,KAAI,aAAxB","file":"static/js/76.f52be755.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { auth } from \"../../firebase\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Button } from \"antd\";\r\nimport { useSelector } from \"react-redux\";\r\nimport AuthHeader from \"../../components/nav/Header\";\r\nconst Register = ({ history }) => {\r\n  const [email, setEmail] = useState(\"\");\r\n\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n\r\n  useEffect(() => {\r\n    if (user && user.token) {\r\n      history.push(\"/\");\r\n    }\r\n  }, [user]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    console.log(process.env.REACT_APP_REGISTER_REDIRECT_URL, \"handle submit\");\r\n    e.preventDefault();\r\n    const config = {\r\n      url: process.env.REACT_APP_REGISTER_REDIRECT_URL,\r\n      handleCodeInApp: true,\r\n    };\r\n    await auth.sendSignInLinkToEmail(email, config);\r\n    toast.success(\r\n      `Email is sent to ${email}.Click the link to complete your registration.`\r\n    );\r\n    //save email in local storage\r\n    window.localStorage.setItem(\"emailForRegistration\", email);\r\n    console.log();\r\n    // clear state\r\n    setEmail(\"\");\r\n  };\r\n\r\n  const registerForm = () => (\r\n    <form onSubmit={handleSubmit}>\r\n      <input\r\n        type=\"email\"\r\n        className=\"form-control\"\r\n        value={email}\r\n        onChange={(e) => setEmail(e.target.value)}\r\n        placeholder=\"Your Email\"\r\n        autoFocus\r\n      />\r\n      <br />\r\n      <Button\r\n        size=\"large\"\r\n        className=\"mb-3\"\r\n        block\r\n        shape=\"round\"\r\n        type=\"primary\"\r\n        onClick={handleSubmit}\r\n        className=\"btn btn-raised\"\r\n      >\r\n        Register\r\n      </Button>\r\n    </form>\r\n  );\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        background:\r\n          \"linear-gradient( 135deg, rgba(0, 136, 232, 1) 0%, rgba(0, 182, 198, 1) 0%, rgba(0, 136, 232, 1) 100% )\",\r\n        height: \"80vh\",\r\n      }}\r\n    >\r\n      {\" \"}\r\n      <AuthHeader />\r\n      <div className=\"container p-5\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-6 offset-md-3\">\r\n            <h4>Register</h4>\r\n            {registerForm()}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport firebase from \"firebase\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nconst Header = () => {\r\n  const [current, setCurrent] = useState(\"home\");\r\n  let dispatch = useDispatch();\r\n  let history = useHistory();\r\n  // spread operater\r\n  let { user } = useSelector((state) => ({ ...state }));\r\n  console.log(user, \"user\");\r\n  const handleClick = (e) => {\r\n    setCurrent(e.key);\r\n  };\r\n\r\n  const logout = () => {\r\n    firebase.auth().signOut();\r\n    dispatch({\r\n      type: \"LOGOUT\",\r\n      payload: null,\r\n    });\r\n    history.push(\"/login\");\r\n  };\r\n\r\n  return (\r\n    <nav class=\"navbar navbar-expand-md bg-light navbar-light\">\r\n      <div class=\"container\">\r\n        <a class=\" navbar-brand text-primary\" href={`/`}>\r\n          Gifts Hub\r\n        </a>\r\n        <button\r\n          class=\"navbar-toggler\"\r\n          type=\"button\"\r\n          data-toggle=\"collapse\"\r\n          data-target=\"#collapsibleNavbar\"\r\n        >\r\n          <span class=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        <div class=\"collapse navbar-collapse\" id=\"collapsibleNavbar\">\r\n          <ul class=\"navbar-nav ml-auto nav-flex-icons\">\r\n            {!user ? (\r\n              <>\r\n                <a class=\"nav-link\" href={`/login`}>\r\n                  login\r\n                </a>\r\n\r\n                <a class=\"nav-link\" href={`/register`}>\r\n                  Register\r\n                </a>\r\n              </>\r\n            ) : (\r\n              <li class=\"nav-item avatar dropdown\">\r\n                <>\r\n                  <a\r\n                    class=\"nav-link dropdown-toggle\"\r\n                    id=\"navbarDropdownMenuLink-5\"\r\n                    data-toggle=\"dropdown\"\r\n                    aria-haspopup=\"true\"\r\n                    aria-expanded=\"false\"\r\n                  >\r\n                    {user.email.split(\"@\")[0]}\r\n                    {user.profilepic ? (\r\n                      <img\r\n                        width=\"40\"\r\n                        src={user.profilepic}\r\n                        class=\"md-avatar rounded-circle ml-3\"\r\n                        alt=\"avatar image\"\r\n                      />\r\n                    ) : (\r\n                      <img\r\n                        width=\"40\"\r\n                        src=\"https://banner2.cleanpng.com/20180327/ssq/kisspng-computer-icons-user-profile-avatar-profile-5ab9e3b05772c0.6947928615221318883582.jpg\"\r\n                        class=\"md-avatar rounded-circle ml-3\"\r\n                        alt=\"avatar image\"\r\n                      />\r\n                    )}{\" \"}\r\n                  </a>\r\n                </>\r\n\r\n                <div\r\n                  class=\"dropdown-menu dropdown-menu-right dropdown-secondary\"\r\n                  aria-labelledby=\"navbarDropdownMenuLink-5\"\r\n                >\r\n                  <li class=\"nav-item \">\r\n                    <a class=\"nav-link\" href=\"\">\r\n                      Your Profile\r\n                    </a>\r\n                  </li>\r\n                  <li class=\"nav-item \">\r\n                    {user && (\r\n                      <a class=\"nav-link\" href={`/userpackspage`}>\r\n                        My Packs\r\n                      </a>\r\n                    )}\r\n                  </li>\r\n                  <li class=\"nav-item \">\r\n                    {user && (\r\n                      <a onClick={logout} class=\"nav-link\" href={`/login`}>\r\n                        Logout\r\n                      </a>\r\n                    )}\r\n                  </li>\r\n                </div>\r\n              </li>\r\n            )}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n"],"sourceRoot":""}